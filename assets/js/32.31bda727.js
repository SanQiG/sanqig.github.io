(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{387:function(_,v,t){"use strict";t.r(v);var r=t(44),s=Object(r.a)({},(function(){var _=this,v=_.$createElement,t=_._self._c||v;return t("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[t("blockquote",[t("p",[_._v("!!! 重点请看"),t("a",{attrs:{href:"https://csspod.com/frontend-performance-best-practices/#server-ajax-get",target:"_blank",rel:"noopener noreferrer"}},[_._v("这篇文章"),t("OutboundLink")],1)])]),_._v(" "),t("h2",{attrs:{id:"请说出三种减少页面加载时间的方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#请说出三种减少页面加载时间的方法"}},[_._v("#")]),_._v(" 请说出三种减少页面加载时间的方法")]),_._v(" "),t("ul",[t("li",[_._v("压缩js、html、css和图片，使用gzip编码传输，减少传输时间")]),_._v(" "),t("li",[_._v("选择合适的图片格式，合理利用缓存，减少传输时间")]),_._v(" "),t("li",[_._v("合并js、css及图片（精灵图），减少请求数量")]),_._v(" "),t("li",[_._v("避免不必要的repaint和reflow，合理利用GPU加速渲染")]),_._v(" "),t("li",[_._v("避免不必要的重定向，使用长连接，优化网络结构")]),_._v(" "),t("li",[_._v("使用CDN（内容分发网络）减短数据传输路径")]),_._v(" "),t("li",[_._v("优化服务器，快速响应与负载均衡")])]),_._v(" "),t("hr"),_._v(" "),t("h2",{attrs:{id:"什么是cdn-有哪些优点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#什么是cdn-有哪些优点"}},[_._v("#")]),_._v(" 什么是CDN？有哪些优点？")]),_._v(" "),t("blockquote",[t("p",[_._v("参考"),t("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/39028766",target:"_blank",rel:"noopener noreferrer"}},[_._v("这篇文章"),t("OutboundLink")],1)])]),_._v(" "),t("p",[_._v("CDN，中文名叫"),t("code",[_._v("内容分发网络")]),_._v("，它的作用是"),t("strong",[_._v("减少传播时延")]),_._v("，找最近的节点。CDN本质就一个是缓存，只是这个缓存离你特别近，不管是作为用户还是开发人员都能从中享受一点福利。")]),_._v(" "),t("p",[t("strong",[_._v("CDN的优点")])]),_._v(" "),t("ul",[t("li",[_._v("访问加速")]),_._v(" "),t("li",[_._v("减轻源站（服务器）负载")]),_._v(" "),t("li",[_._v("抗住攻击")])]),_._v(" "),t("p",[t("strong",[_._v("CDN的缺点")])]),_._v(" "),t("ul",[t("li",[_._v("只能对静态内容加速")]),_._v(" "),t("li",[_._v("内容更新时需要分发到其他节点")]),_._v(" "),t("li",[_._v("代价高昂")])]),_._v(" "),t("p",[t("strong",[_._v("CDN与传统网站访问的区别")])]),_._v(" "),t("ul",[t("li",[_._v("传统网站访问：")])]),_._v(" "),t("p",[t("img",{attrs:{src:"https://pic4.zhimg.com/80/f9708de32d641358e47edc96307775d5_hd.jpg",alt:""}})]),_._v(" "),t("ul",[t("li",[_._v("使用了CDN的网站访问")])]),_._v(" "),t("p",[t("img",{attrs:{src:"https://pic1.zhimg.com/80/79c1abc468349073fb433d0949423717_hd.jpg",alt:""}})]),_._v(" "),t("p",[_._v("与传统访问方式不同，CDN网络则是在用户和服务器之间增加缓存层，将用户的访问请求引导到最优的缓存节点而不是服务器源站点，从而增加访问速度。")]),_._v(" "),t("p",[t("strong",[_._v("完整的CDN工作流程")])]),_._v(" "),t("p",[t("img",{attrs:{src:"https://pic2.zhimg.com/80/049b124feb55100ff2f147b768ad4c8b_hd.jpg",alt:"完整的CDN工作流程"}})]),_._v(" "),t("p",[_._v("总结一下CDN的工作原理：通过权威DNS服务器来实现最优节点的选择，通过缓存来减少源站的压力。应用场景：静态网页、大文件下载、动态加速和应用加速等。")]),_._v(" "),t("p",[t("strong",[_._v("应用与踩坑")])]),_._v(" "),t("ul",[t("li",[t("p",[t("strong",[_._v("缓存设置")])]),_._v(" "),t("p",[_._v("max-age在Cache-Control中经常用于缓存的控制，可是max-age设置的缓存会应用于一个请求经过的每一级，如果我们希望CDN不缓存那么久，要怎么办呢？那就是s-maxage，它用于设置代理服务器的缓存时间，会覆盖max-age的设置，这样我们可以把max-age用于本地缓存，把s-maxage用于CDN缓存时间，避免脏数据的产生。")])]),_._v(" "),t("li",[t("p",[t("strong",[_._v("缓存命中率")])]),_._v(" "),t("p",[_._v("对于一个缓存而言，还有一点非常重要，就是你的缓存到底有没有用，衡量这个东西的就是缓存命中率。如果只是静态资源，在刷新缓存之后，可能导致命中率下降，因此CDN的资源不适合经常刷新，换句话说，如果一个请求结果会经常进行变更，那么CDN基本就没有什么存在的意义了。")])]),_._v(" "),t("li",[t("p",[t("strong",[_._v("判断是否命中缓存")])]),_._v(" "),t("p",[_._v("还要考虑的一件事是：这个资源是否命中了CDN，是否是因为CDN导致的问题。")]),_._v(" "),t("p",[t("img",{attrs:{src:"https://pic2.zhimg.com/80/v2-fdc8fbb56b81bf28a26bc03f289225a1_hd.jpg",alt:""}})]),_._v(" "),t("p",[_._v("在各大厂商的CDN返回的数据中都会有一个X-Cache，上面内容是Hit或者Miss，还会加上诸如Memory或者Disk的缩写表示内存还是磁盘，如果出现Upstream或者Miss则表示没有命中。")])]),_._v(" "),t("li",[t("p",[t("strong",[_._v("资源预热")])]),_._v(" "),t("p",[_._v("缓存设计中，预热是很重要的环节，在最初刚开始启动CDN的时候，CDN上并没有缓存数据，此刻大量的请求全部打向源站，肯定会把源站打挂，预热就是实现缓存热门数据，这样在业务上线时，CDN上已经有所需的数据了。")])]),_._v(" "),t("li",[t("p",[t("strong",[_._v("Vary")])])]),_._v(" "),t("li",[t("p",[t("strong",[_._v("Range")])])]),_._v(" "),t("li",[t("p",[t("strong",[_._v("无私钥HTTPS")])])])]),_._v(" "),t("hr")])}),[],!1,null,null,null);v.default=s.exports}}]);